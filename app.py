from flask import Flask, request, render_template_string, session, redirect, url_for, jsonify\nimport json\nimport random\n\napp = Flask(__name__)\napp.secret_key = 'your_secret_key'  # Change this to a random secret key\n\n# Load questions from questions.json\nwith open('questions.json') as f:\n    questions = json.load(f)\n\n# Home route\n@app.route('/')\ndef home():\n    return render_template_string('<h1>Welcome to NEC 2023 Trainer</h1><a href="/login">Login</a>')\n\n# Login route\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    if request.method == 'POST':\n        pin = request.form['pin']\n        if pin == '1234':  # Change this to your actual PIN validation logic\n            session['logged_in'] = True\n            return redirect(url_for('dashboard'))\n        else:\n            return 'Invalid PIN! Try again.'\n    return render_template_string('<form method="post"><input type="password" name="pin" placeholder="Enter PIN"><input type="submit" value="Login"></form>')\n\n# Dashboard route\n@app.route('/dashboard')\ndef dashboard():\n    if not session.get('logged_in'):  # Check for logged_in session\n        return redirect(url_for('login'))\n    stats = {'quizzes_taken': 2, 'correct_answers': 18}  # Example stats\n    return render_template_string('<h1>Dashboard</h1><p>Quizzes Taken: {{ stats.quizzes_taken }}</p><p>Correct Answers: {{ stats.correct_answers }}</p><a href="/quiz/10">Take 10 Question Quiz</a><br><a href="/quiz/20">Take 20 Question Quiz</a><br><a href="/quiz/50">Take 50 Question Quiz</a>')\n\n# Quiz route\n@app.route('/quiz/<int:question_count>')\ndef quiz(question_count):\n    if not session.get('logged_in'):\n        return redirect(url_for('login'))\n    selected_questions = random.sample(questions, question_count)\n    return render_template_string('<h1>Quiz</h1>{% for q in questions %}<p>{{ q.question }}</p>{% for option in q.options %}<input type="radio" name="{{ q.id }}"> {{ option }}<br>{% endfor %}{% endfor %} <input type="submit" value="Submit">')