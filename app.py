from flask import Flask, render_template_string, request, redirect, url_for, session, flash\nfrom datetime import timedelta\nimport random\n\napp = Flask(__name__)\napp.secret_key = 'your_secret_key'\napp.permanent_session_lifetime = timedelta(days=7)\n\n# Mock user data\nusers = {'user': 'password'}\n\n# Sample quiz questions\nquestions = [\n    {'question': 'What is the capital of France?', 'options': ['Paris', 'Berlin', 'Madrid'], 'answer': 'Paris'},\n    {'question': 'What is 2 + 2?', 'options': ['3', '4', '5'], 'answer': '4'},\n    # ... Add more questions to reach 100\n] * 33 + [{'question': 'What is the capital of Japan?', 'options': ['Tokyo', 'Beijing', 'Seoul'], 'answer': 'Tokyo'}]\nrandom.shuffle(questions)  # Shuffle questions\n\n@app.route('/')\ndef home():\n    return render_template_string('''\n    <h1>Welcome to the Quiz App</h1>\n    <a href="/login">Login</a>\n    ''')\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    if request.method == 'POST':\n        session.permanent = True\n        user = request.form['username']\n        if user in users and request.form['password'] == users[user]:\n            session['user'] = user\n            flash('Login Successful!')\n            return redirect(url_for('dashboard'))\n        else:\n            flash('Login Failed!')\n        return redirect(url_for('login'))\n    return render_template_string('''\n    <h1>Login</h1>\n    <form method="post">\n        Username: <input type="text" name="username" required><br>\n        Password: <input type="password" name="password" required><br>\n        <input type="submit" value="Login">\n    </form>\n    <a href="/">Back to Home</a>\n    ''')\n\n@app.route('/dashboard')\ndef dashboard():\n    if 'user' in session:\n        return render_template_string('''\n        <h1>Welcome, {{ session['user'] }}!</h1>\n        <a href="/quiz">Start Quiz</a><br>\n        <a href="/logout">Logout</a>\n        ''')\n    return redirect(url_for('login'))\n\n@app.route('/quiz', methods=['GET', 'POST'])\ndef quiz():\n    if 'user' not in session:\n        return redirect(url_for('login'))\n    if request.method == 'POST':\n        score = 0\n        for i, question in enumerate(questions):\n            if request.form.get(f'question-{i}') == question['answer']:\n                score += 1\n        return render_template_string('''\n        <h1>Your Score: {{ score }} out of {{ total }}</h1>\n        <a href="/dashboard">Back to Dashboard</a>\n        ''', score=score, total=len(questions))\n    return render_template_string('''\n    <h1>Quiz</h1>\n    <form method="post">\n        {% for i, question in enumerate(questions) %}\n            <h4>{{ question.question }}</h4>\n            {% for option in question.options %}\n                <input type="radio" name="question-{{ i }}" value="{{ option }}" required>{{ option }}<br>\n            {% endfor %}\n        {% endfor %}\n        <input type="submit" value="Submit">\n    </form>\n    <a href="/dashboard">Back to Dashboard</a>\n    ''', questions=questions)\n\n@app.route('/logout')\ndef logout():\n    session.pop('user', None)\n    flash('You have logged out!')\n    return redirect(url_for('home'))\n\nif __name__ == '__main__':\n    app.run(debug=True)\n